<div class="text-neon font-pixelify flex items-center justify-center min-h-screen p-4">
      <!-- MODAL FRIENDS -->
<div
  id="friends-modal"
  class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50"
>
<div
  id="popup"
  class="w-[480px] max-w-full h-[700px] bg-white/40 backdrop-blur-md border border-white/50 rounded-xl shadow-lg p-6 flex flex-col overflow-visible"
  style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"
>

    <!-- Bouton fermer -->
    <button
      onclick="closeFriendsModal()"
      class="absolute top-4 right-4 text-white hover:text-neon"
      title="Close"
    >
      ✕
    </button>

    <h2 id="drag-handle" class="text-white text-3xl font-semibold mb-4 text-center drop-shadow-md">
      Friends
    </h2>

    <div
      class="flex-1 overflow-y-auto bg-white/10 rounded-md p-4 border border-white/20"
    >
      <ul id="friends-list" class="space-y-3 text-white font-mono text-sm">
        <!-- Liste amis -->
      </ul>
      <p id="empty-friends-text" class="text-white/50 text-center mt-6">
        No friends added yet.
      </p>
    </div>

    <div class="mt-6 flex gap-3">
      <input
        id="addfriend"
        type="text"
        placeholder="Enter a username..."
        class="flex-1 px-3 py-2 rounded bg-white text-black font-semibold placeholder-gray-600"
      />
      <button
        onclick="addFriend(document.getElementById('addfriend').value)"
        class="bg-neon text-black px-5 py-2 rounded hover:brightness-110 font-bold"
      >
        Follow
      </button>
    </div>
  </div>
</div>



<!-- MODALE DE PROFIL -->
<div id="editModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50">
  <div
    id="popup-profile"
    class="w-[480px] max-w-full bg-white/40 backdrop-blur-md border border-white/50 rounded-xl shadow-lg p-6 flex flex-col overflow-visible relative"
    style="top: 50%; left: 50%; transform: translate(-50%, -50%); position: absolute;"
  >
    <!-- Bouton fermer -->
    <button
      onclick="closeModal()"
      class="absolute top-4 right-4 text-white hover:text-neon"
      title="Fermer"
    >
      ✕
    </button>

    <h2 id="drag-handle-profile" class="text-white text-3xl font-semibold mb-4 text-center drop-shadow-md">
      Modifier Profil
    </h2>

    <div class="space-y-4 bg-white/10 p-4 rounded-md border border-white/20 text-white font-mono text-sm">
      <!-- Username -->
      <div class="flex items-center">
        <input
          id="modal-username"
          type="text"
          placeholder="Nom d'utilisateur"
          class="flex-1 px-3 py-2 rounded bg-white text-black placeholder-gray-600 font-semibold"
        />

      </div>

      <!-- Email -->
      <div class="flex items-center">
        <input
          id="modal-email"
          type="email"
          placeholder="Adresse email"
          class="flex-1 px-3 py-2 rounded bg-white text-black placeholder-gray-600 font-semibold"
        />

      </div>

      <!-- Mot de passe -->
      <div class="flex items-center">
        <input
          id="modal-password"
          type="password"
          placeholder="Nouveau mot de passe"
          class="flex-1 px-3 py-2 rounded bg-white text-black placeholder-gray-600 font-semibold"
        />

      </div>

      <!-- Confirmation mot de passe -->
      <div class="flex items-center">
        <input
          id="modal-confirm-password"
          type="password"
          placeholder="Confirmer mot de passe"
          class="w-full px-3 py-2 rounded bg-white text-black placeholder-gray-600 font-semibold"
        />
      </div>

      <!-- Actions -->
      <div class="flex justify-end gap-3 pt-2">
        <button
          onclick="closeModal()"
          class="px-4 py-2 border border-white rounded text-white hover:bg-white hover:text-black font-bold"
        >
          Annuler
        </button>
        <button
          onclick="saveProfileChanges()"
          class="bg-neon text-black px-5 py-2 rounded hover:brightness-110 font-bold"
        >
          Sauvegarder
        </button>
      </div>
    </div>
  </div>
</div>


  <!-- Rectangle vert principal -->
  <div class="w-[1000px] h-[850px] border-2 border-neon shadow-lg bg-gradient-to-br from-green-900/20 to-green-500/10 p-6 flex flex-col rounded-2xl space-y-6 overflow-hidden backdrop-blur-xl">

    <div class="flex justify-end items-center space-x-4">
      <button
        id="logout-btn"
        onclick="logout()"
        class="z-50 !cursor-progress hover:text-neon text-white top-4 right-4 w-10 h-10 border-2 border-white font-bold rounded-full hover:brightness-110 transition-all flex items-center justify-center"
        title="Log Out">
        <svg xmlns="http://www.w3.org/2000/svg" text-white width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out-icon lucide-log-out"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>
    </button>

  <!-- Bouton Dark Mode -->
  <button onclick="toggleDarkMode()" title="Toggle Dark Mode"
    class="border-2 border-white text-white hover:text-neon w-10 h-10 rounded-full flex items-center justify-center  transition">
    <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-moon" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79Z" />
    </svg>
  </button>

  <!-- Bouton Settings -->
  <button onclick="openSettings()" title="Settings"
    class="border-2 border-white text-white hover:text-neon w-10 h-10 rounded-full flex items-center justify-center transition">
    <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-settings" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="3" />
      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
    </svg>
  </button>
</div>


<div class="flex flex-1 gap-4 overflow-hidden">

<!-- Rectangle bleu -->
<div class="w-1/2 h-full border-2 border-crtBlue rounded-2xl p-4 overflow-auto">
    <h2 class="py-8 text-center text-2xl text-white mb-4">Ton Avatar</h2>

  <div class="flex items-center justify-center space-x-10">
    <div class=" flex flex-col items-center space-y-6">
      <img
        id="avatar-preview"
        src="assets/avatar3.png"
        alt="Avatar Preview"
        class="animate-float w-64 h-128"
      />

<div class="mt-auto w-full flex justify-center gap-4 pt-8">


<button onclick="toggleAvatarDropdown()" class="border border-white text-white  px-4 py-2 rounded hover:bg-white hover:text-black transition mt-8">
  Changer d’avatar
</button>

<div id="avatar-dropdown" class="hidden ml-8 absolute left-0 top-1/2 -translate-y-1/2 bg-white/30 border rounded-2xl w-24 z-50 shadow-lg h-[420px] flex flex-col">
  <div class="flex-1 overflow-y-auto flex flex-col items-center space-y-4 p-4 mb-4">
  <img src="/assets/avatar1.png" data-src="/assets/avatar1.png" onclick="chooseAvatar('/assets/avatar1.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar2.png" data-src="/assets/avatar2.png" onclick="chooseAvatar('/assets/avatar2.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar3.png" data-src="/assets/avatar3.png" onclick="chooseAvatar('/assets/avatar3.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar4.png" data-src="/assets/avatar4.png" onclick="chooseAvatar('/assets/avatar4.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar5.png" data-src="/assets/avatar5.png" onclick="chooseAvatar('/assets/avatar5.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar6.png" data-src="/assets/avatar6.png" onclick="chooseAvatar('/assets/avatar6.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar7.png" data-src="/assets/avatar7.png" onclick="chooseAvatar('/assets/avatar7.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar8.png" data-src="/assets/avatar8.png" onclick="chooseAvatar('/assets/avatar8.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar9.png" data-src="/assets/avatar9.png" onclick="chooseAvatar('/assets/avatar9.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar10.png" data-src="/assets/avatar10.png" onclick="chooseAvatar('/assets/avatar10.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar11.png" data-src="/assets/avatar11.png" onclick="chooseAvatar('/assets/avatar11.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar12.png" data-src="/assets/avatar12.png" onclick="chooseAvatar('/assets/avatar12.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar13.png" data-src="/assets/avatar13.png" onclick="chooseAvatar('/assets/avatar13.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar14.png" data-src="/assets/avatar14.png" onclick="chooseAvatar('/assets/avatar14.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  <img src="/assets/avatar15.png" data-src="/assets/avatar15.png" onclick="chooseAvatar('/assets/avatar15.png')" class="cursor-pointer avatar-option w-16 h-16 rounded" />
  </div>

  <div class="p-2 border-t bg-white/30">
    <button onclick="confirmAvatarSelection()" class="bg-green-500 text-white px-2 py-1 rounded text-sm w-full">
      Select
    </button>
  </div>
</div>


  <label
    for="custom-avatar-upload"
        class="text-white text-center border border-white px-4 py-2 rounded hover:bg-white hover:text-black transition mt-8"
  >
    Importer
    <input
      id="custom-avatar-upload"
      type="file"
      accept="image/*"
      onchange="uploadCustomAvatar(event)"
      class="hidden"
    />
    </label>
      </div>
    </div>
  </div>
</div>
    
<!-- Rectangle rose -->
 <div class="w-1/2 h-full border-2 border-crtPurple rounded-2xl p-4">
    <div class="relative z-10 flex flex-col text-white px-8 py-16 w-full">
        <h2 class="text-6xl text-white mb-4">Bonjour,
        <p><span id="display-username"></span></p>  
    </h2>
 
<!-- Container -->
<div class="mt-8 space-y-2 p-2 bg-white/10 rounded-xl">

  <!-- Username -->
  <div class="flex items-center" id="username-container">
    <input
      id="username"
      type="text"
      class="flex-1 px-2 rounded bg-white border border-white text-black"
    />
    <button
      onclick="editUser()"
      class="ml-4 px-2 border-2 border-white text-white rounded hover:bg-white hover:text-black"
    >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-line-icon lucide-pencil-line"><path d="M12 20h9"/><path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/><path d="m15 5 3 3"/></svg>
    </button>
  </div>


  <!-- Email -->
  <div class="flex items-center">
    <input
      id="email"
      type="email"
      class="flex-1 px-2 rounded bg-white border border-white text-black"
    />
    <button
      onclick="editEmail(document.getElementById('email').value)"
      class="ml-4 px-2 border-2 border-white text-white rounded hover:text-black hover:bg-white"
    >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-line-icon lucide-pencil-line"><path d="M12 20h9"/><path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/><path d="m15 5 3 3"/></svg>
    </button>
  </div>

  <!-- Password -->
 <div class="flex items-center">
    <input
      id="password"
      type="password"
      class="flex-1 px-2 rounded bg-white border border-white text-black"
    />
    <button
      onclick="editPass(document.getElementById('password').value)"
      class="ml-4 px-2 border-2 border-white text-white rounded hover:text-black hover:bg-white"
    >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-line-icon lucide-pencil-line"><path d="M12 20h9"/><path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/><path d="m15 5 3 3"/></svg>     
    </button>
  </div>
</div> 

<!-- <button onclick="openModalWithUserData()" class="px-4 py-2 bg-blue-600 text-white rounded">Modifier profil</button> -->


<div class="mt-8 mb-10 flex flex-row p-4 rounded items-center justify-center">
    <button 
        class="border border-neon text-black px-8 rounded py-4 animate-flashy-neon"
        onclick="navigate('game-choice')"
        >
        JOUER
    </button>
</div>



        <div class="flex justify-center items-center text-white text-xl space-x-8">
        <!-- Wins -->
        <div class="flex flex-col items-center">
            <span class="text-base">Victoires</span>
            <span id="wins-count" class="text-3xl font-bold font-sans">12</span>
        </div>

        <!-- Bar -->
        <div class="w-px h-16 bg-white mx-2"></div>

        <!-- Losses -->
        <div class="flex flex-col items-center">
            <span class="text-base">Défaites</span>
            <span id="losses-count" class="text-3xl font-bold font-sans">5</span>
        </div>

        <!-- Bar -->
        <div class="w-px h-16 bg-white mx-2"></div>

        <!-- Win Rate -->
        <div class="flex flex-col items-center text-center ">
            <span class="text-base">% de victoire</span>
            <span id="winrate" class="text-3xl font-bold font-sans">70%</span>
        </div>
    </div>



  <div class="flex flex-row mt-2 items-center ml-10">
    <button
      onclick="openFriendsModal()"
      class="border border-white px-4 py-2 rounded hover:bg-white hover:text-black transition"
    >
      Amis
    </button>

    <div class="p-4 rounded items-center">
      <button
        onclick="seeMatchHistory()"
        class="border border-white px-4 py-2 rounded hover:bg-white hover:text-black transition"
      >
        Historique des matchs
      </button>
    </div>
  </div>
</div>
</div>

